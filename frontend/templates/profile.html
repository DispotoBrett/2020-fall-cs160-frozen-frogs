<!-- Styling attribution: https://www.bootdey.com/snippets/view/about-me#css -->
<style>
  body {
    color: #6F8BA4;
    margin-top: 20px;
  }

  .section {
    padding: 100px 0;
    position: relative;
    margin-top: 20px;
  }

  .gray-bg {
    background-color: #f5f5f5;
  }

  img {
    max-width: 100%;
  }

  img {
    vertical-align: middle;
    border-style: none;
  }

  /* About Me 
---------------------*/
  .about-text h3 {
    font-size: 45px;
    font-weight: 700;
    margin: 0 0 6px;
  }

  @media (max-width: 767px) {
    .about-text h3 {
      font-size: 35px;
    }
  }

  .about-text h6 {
    font-weight: 600;
    margin-bottom: 15px;
  }

  @media (max-width: 767px) {
    .about-text h6 {
      font-size: 18px;
    }
  }

  .about-text p {
    font-size: 18px;
    max-width: 450px;
  }

  .about-text p mark {
    font-weight: 600;
    color: #20247b;
  }

  .about-list {
    padding-top: 10px;
  }

  .about-list .media {
    padding: 5px 0;
  }

  .about-list label {
    color: #20247b;
    font-weight: 600;
    width: 88px;
    margin: 0;
    position: relative;
  }

  .about-list label:after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: 11px;
    width: 1px;
    height: 12px;
    background: #20247b;
    -moz-transform: rotate(15deg);
    -o-transform: rotate(15deg);
    -ms-transform: rotate(15deg);
    -webkit-transform: rotate(15deg);
    transform: rotate(15deg);
    margin: auto;
    opacity: 0.5;
  }

  .about-list p {
    margin: 0;
    font-size: 15px;
  }

  @media (max-width: 991px) {
    .about-avatar {
      margin-top: 30px;
      justify-content: center;
      text-align: center;
    }
  }

  .about-section .counter {
    padding: 22px 20px;
    background: #ffffff;
    border-radius: 10px;
    box-shadow: 0 0 30px rgba(31, 45, 61, 0.125);
  }

  .about-section .counter .count-data {
    margin-top: 10px;
    margin-bottom: 10px;
  }

  .about-section .counter .count {
    font-weight: 700;
    color: #20247b;
    margin: 0 0 5px;
  }

  .about-section .counter p {
    font-weight: 600;
    margin: 0;
  }

  mark {
    background-image: linear-gradient(rgba(252, 83, 86, 0.6), rgba(252, 83, 86, 0.6));
    background-size: 100% 3px;
    background-repeat: no-repeat;
    background-position: 0 bottom;
    background-color: transparent;
    padding: 0;
    color: currentColor;
  }

  .theme-color {
    color: #fc5356;
  }

  .dark-color {
    color: #20247b;
  }
</style>
{% extends 'base.html' %}
{% load static %}
{% block content %}
<section class="section about-section gray-bg" id="about">
  <div class="container">
    <div class="row align-items-center flex-row-reverse">
      <div class="col-lg-6">
        <div class="about-text go-to">
          <h3 class="dark-color">Hello {{name}}!</h3>
          <p>Welcome to your SpartanBooks profile. Here you are able to list a book, view your listings, and update
            account information</p>
          <div class="row about-list">
            <div class="col-md-6">
              <div class="media">
                <label>Name</label>
                <p>{{name}}</p>
              </div>
            </div>
            <div class="col-md-6">
              <div class="media">
                <label>E-mail</label>
                <p>{{email}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6" style="text-align:center; margin-bottom: 10px;">
        <div class="about-avatar">
          <img width=300 height=300 src="{{profile_pic}}" alt="{{profile_pic}}">
        </div>
      </div>
    </div>
    <div class="counter">
      <div class="row">
        <div class="col-6 col-lg-3">
          <div class="count-data text-center">
            <button class='btn btn-warning' type='submit' id='list' onclick="location.href = '/list_book'">List a Book
              for Sale</button>
          </div>
        </div>
        <div class="col-6 col-lg-3">
          <div class="count-data text-center">
            <button class='btn btn-primary' type='submit' id='view_books'>View your Books for Sale</button>
          </div>
        </div>
        <div class="col-6 col-lg-3">
          <div class="count-data text-center">
            <button class='btn btn-secondary' type='submit' id='edit_prof'>Edit Profile Information</button>
          </div>
        </div>
        <div class="col-6 col-lg-3">
          <div class="count-data text-center">
            <a href='/logout' class='btn btn-danger' type='submit' id='logout'>Logout</a>
          </div>
        </div>
      </div>
    </div>
    <div class='mt-5' id='accordion'>
      <div class="card">
        <div class='card-header' id="favoritesHeading">
          <button class="btn btn-link" data-toggle="collapse" data-target="#favoritesCollapse" aria-expanded="true"
            aria-controls="favoritesCollapse">
            <h2 class='display'>
              Your favorites <span class="text-danger fas fa-heart" height=50 width=50>
            </h2>
          </button>
        </div>
        <div id="favoritesCollapse" class="collapse" aria-labelledby="favoritesHeading" data-parent="#accordion">
          <div class="card-body">
            <table id='favorites' class='display hover order-column striped bg-white border rounded'>
              <thead>
                <tr>
                  <th> Posting Title </th>
                  <th> Description </th>
                  <th> Price </th>
                  <th> Seller </th>
                  <th> Action </th>
                </tr>
              </thead>
              {% for posting in favorites %}
              <tr>
              <td> <a href="posting/{{posting.id }}"> {{ posting.title }} </a></td>
              <td> {{ posting.description }} </td>
              <td> {{ posting.price }} </td>
              <td> {{ posting.seller }} </td>
              <td>
                {% include 'book_actions.html' %}
              </td>
              </tr>
              {% endfor %}
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  $(document).ready(function () {
    $('#favorites').DataTable({
      'bFilter': false,
      'language': {
        'emptyTable': 'No favorite yet! Go <a href="/browse">browse</a> some books'
      }
    });
  });
</script>
{% endblock %}